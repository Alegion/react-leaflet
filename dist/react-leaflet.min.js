!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("leaflet"),require("react"),require("react-dom")):"function"==typeof define&&define.amd?define(["exports","leaflet","react","react-dom"],e):e(t.ReactLeaflet={},t.L,t.React,t.ReactDOM)}(this,function(t,e,n,o){"use strict";var r="default"in n?n.default:n;function i(t){return function(){return t}}var a=function(){};a.thatReturns=i,a.thatReturnsFalse=i(!1),a.thatReturnsTrue=i(!0),a.thatReturnsNull=i(null),a.thatReturnsThis=function(){return this},a.thatReturnsArgument=function(t){return t};var l=a;var u=function(t,e,n,o,r,i,a,l){if(!t){var u;if(void 0===e)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var p=[n,o,r,i,a,l],s=0;(u=new Error(e.replace(/%s/g,function(){return p[s++]}))).name="Invariant Violation"}throw u.framesToPop=1,u}},p="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",s=function(t,e){return t(e={exports:{}},e.exports),e.exports}(function(t){t.exports=function(){function t(t,e,n,o,r,i){i!==p&&u(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function e(){return t}t.isRequired=t;var n={array:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e};return n.checkPropTypes=l,n.PropTypes=n,n}()}),c=s.oneOfType([s.arrayOf(s.number),s.shape({lat:s.number,lng:s.number}),s.shape({lat:s.number,lon:s.number})]),f=s.arrayOf(c),h=s.oneOfType([s.instanceOf(e.LatLngBounds),f]),y=s.oneOfType([s.arrayOf(s.node),s.node]),d=s.oneOf(["topleft","topright","bottomleft","bottomright"]),m=s.object,v=s.shape({addLayer:s.func.isRequired,removeLayer:s.func.isRequired}),b=s.instanceOf(e.Map),g=s.shape({center:c,zoom:s.number}),E=Object.freeze({bounds:h,children:y,controlPosition:d,latlng:c,latlngList:f,layer:m,layerContainer:v,map:b,viewport:g}),O=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},j=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),_=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},C=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},L=function(t,e){var n={};for(var o in t)e.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o]);return n},w=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e},x=function(t){function e(){return O(this,e),w(this,t.apply(this,arguments))}return C(e,t),e.prototype.createLeafletElement=function(t){throw new Error("createLeafletElement() must be implemented")},e.prototype.updateLeafletElement=function(t,e){e.position!==t.position&&this.leafletElement.setPosition(e.position)},e.prototype.componentWillMount=function(){this.leafletElement=this.createLeafletElement(this.props)},e.prototype.componentDidMount=function(){this.leafletElement.addTo(this.context.map)},e.prototype.componentDidUpdate=function(t){this.updateLeafletElement(t,this.props)},e.prototype.componentWillUnmount=function(){this.leafletElement.remove()},e.prototype.render=function(){return null},e}(n.Component);x.propTypes={position:d},x.contextTypes={map:b};var T=function(t){function n(){return O(this,n),w(this,t.apply(this,arguments))}return C(n,t),n.prototype.createLeafletElement=function(t){return new e.Control.Attribution(t)},n}(x);T.propTypes={position:d,prefix:s.string};var P=Array.isArray,A="object"==typeof global&&global&&global.Object===Object&&global,z="object"==typeof self&&self&&self.Object===Object&&self,I=A||z||Function("return this")(),R=I.Symbol,S=Object.prototype,M=S.hasOwnProperty,U=S.toString,k=R?R.toStringTag:void 0;var W=Object.prototype.toString;var B="[object Null]",D="[object Undefined]",N=R?R.toStringTag:void 0;function Z(t){return null==t?void 0===t?D:B:N&&N in Object(t)?function(t){var e=M.call(t,k),n=t[k];try{t[k]=void 0;var o=!0}catch(t){}var r=U.call(t);return o&&(e?t[k]=n:delete t[k]),r}(t):function(t){return W.call(t)}(t)}function V(t){return null!=t&&"object"==typeof t}var q="[object Symbol]";function F(t){return"symbol"==typeof t||V(t)&&Z(t)==q}var $=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,G=/^\w*$/;function H(t,e){if(P(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!F(t))||(G.test(t)||!$.test(t)||null!=e&&t in Object(e))}function J(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}var Y="[object AsyncFunction]",K="[object Function]",Q="[object GeneratorFunction]",X="[object Proxy]";function tt(t){if(!J(t))return!1;var e=Z(t);return e==K||e==Q||e==Y||e==X}var et,nt=I["__core-js_shared__"],ot=(et=/[^.]+$/.exec(nt&&nt.keys&&nt.keys.IE_PROTO||""))?"Symbol(src)_1."+et:"";var rt=Function.prototype.toString;function it(t){if(null!=t){try{return rt.call(t)}catch(t){}try{return t+""}catch(t){}}return""}var at=/^\[object .+?Constructor\]$/,lt=Function.prototype,ut=Object.prototype,pt=lt.toString,st=ut.hasOwnProperty,ct=RegExp("^"+pt.call(st).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function ft(t){return!(!J(t)||ot&&ot in t)&&(tt(t)?ct:at).test(it(t))}function ht(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return ft(n)?n:void 0}var yt=ht(Object,"create");var dt="__lodash_hash_undefined__",mt=Object.prototype.hasOwnProperty;var vt=Object.prototype.hasOwnProperty;var bt="__lodash_hash_undefined__";function gt(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var o=t[e];this.set(o[0],o[1])}}function Et(t,e){return t===e||t!=t&&e!=e}function Ot(t,e){for(var n=t.length;n--;)if(Et(t[n][0],e))return n;return-1}gt.prototype.clear=function(){this.__data__=yt?yt(null):{},this.size=0},gt.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},gt.prototype.get=function(t){var e=this.__data__;if(yt){var n=e[t];return n===dt?void 0:n}return mt.call(e,t)?e[t]:void 0},gt.prototype.has=function(t){var e=this.__data__;return yt?void 0!==e[t]:vt.call(e,t)},gt.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=yt&&void 0===e?bt:e,this};var jt=Array.prototype.splice;function _t(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var o=t[e];this.set(o[0],o[1])}}_t.prototype.clear=function(){this.__data__=[],this.size=0},_t.prototype.delete=function(t){var e=this.__data__,n=Ot(e,t);return!(n<0||(n==e.length-1?e.pop():jt.call(e,n,1),--this.size,0))},_t.prototype.get=function(t){var e=this.__data__,n=Ot(e,t);return n<0?void 0:e[n][1]},_t.prototype.has=function(t){return Ot(this.__data__,t)>-1},_t.prototype.set=function(t,e){var n=this.__data__,o=Ot(n,t);return o<0?(++this.size,n.push([t,e])):n[o][1]=e,this};var Ct=ht(I,"Map");function Lt(t,e){var n,o,r=t.__data__;return("string"==(o=typeof(n=e))||"number"==o||"symbol"==o||"boolean"==o?"__proto__"!==n:null===n)?r["string"==typeof e?"string":"hash"]:r.map}function wt(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var o=t[e];this.set(o[0],o[1])}}wt.prototype.clear=function(){this.size=0,this.__data__={hash:new gt,map:new(Ct||_t),string:new gt}},wt.prototype.delete=function(t){var e=Lt(this,t).delete(t);return this.size-=e?1:0,e},wt.prototype.get=function(t){return Lt(this,t).get(t)},wt.prototype.has=function(t){return Lt(this,t).has(t)},wt.prototype.set=function(t,e){var n=Lt(this,t),o=n.size;return n.set(t,e),this.size+=n.size==o?0:1,this};var xt="Expected a function";function Tt(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError(xt);var n=function(){var o=arguments,r=e?e.apply(this,o):o[0],i=n.cache;if(i.has(r))return i.get(r);var a=t.apply(this,o);return n.cache=i.set(r,a)||i,a};return n.cache=new(Tt.Cache||wt),n}Tt.Cache=wt;var Pt=500;var At,zt,It=/^\./,Rt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,St=/\\(\\)?/g,Mt=(At=Tt(function(t){var e=[];return It.test(t)&&e.push(""),t.replace(Rt,function(t,n,o,r){e.push(o?r.replace(St,"$1"):n||t)}),e},function(t){return zt.size===Pt&&zt.clear(),t}),zt=At.cache,At);function Ut(t,e){for(var n=-1,o=null==t?0:t.length,r=Array(o);++n<o;)r[n]=e(t[n],n,t);return r}var kt=1/0,Wt=R?R.prototype:void 0,Bt=Wt?Wt.toString:void 0;function Dt(t){if("string"==typeof t)return t;if(P(t))return Ut(t,Dt)+"";if(F(t))return Bt?Bt.call(t):"";var e=t+"";return"0"==e&&1/t==-kt?"-0":e}function Nt(t){return null==t?"":Dt(t)}function Zt(t,e){return P(t)?t:H(t,e)?[t]:Mt(Nt(t))}var Vt=1/0;function qt(t){if("string"==typeof t||F(t))return t;var e=t+"";return"0"==e&&1/t==-Vt?"-0":e}function Ft(t,e){for(var n=0,o=(e=Zt(e,t)).length;null!=t&&n<o;)t=t[qt(e[n++])];return n&&n==o?t:void 0}var $t=function(){try{var t=ht(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();function Gt(t,e,n){"__proto__"==e&&$t?$t(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var Ht=Object.prototype.hasOwnProperty;function Jt(t,e,n){var o=t[e];Ht.call(t,e)&&Et(o,n)&&(void 0!==n||e in t)||Gt(t,e,n)}var Yt=9007199254740991,Kt=/^(?:0|[1-9]\d*)$/;function Qt(t,e){return!!(e=null==e?Yt:e)&&("number"==typeof t||Kt.test(t))&&t>-1&&t%1==0&&t<e}function Xt(t,e,n,o){if(!J(t))return t;for(var r=-1,i=(e=Zt(e,t)).length,a=i-1,l=t;null!=l&&++r<i;){var u=qt(e[r]),p=n;if(r!=a){var s=l[u];void 0===(p=o?o(s,u,l):void 0)&&(p=J(s)?s:Qt(e[r+1])?[]:{})}Jt(l,u,p),l=l[u]}return t}function te(t,e){return null!=t&&e in Object(t)}var ee="[object Arguments]";function ne(t){return V(t)&&Z(t)==ee}var oe=Object.prototype,re=oe.hasOwnProperty,ie=oe.propertyIsEnumerable,ae=ne(function(){return arguments}())?ne:function(t){return V(t)&&re.call(t,"callee")&&!ie.call(t,"callee")},le=9007199254740991;function ue(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=le}function pe(t,e){return null!=t&&function(t,e,n){for(var o=-1,r=(e=Zt(e,t)).length,i=!1;++o<r;){var a=qt(e[o]);if(!(i=null!=t&&n(t,a)))break;t=t[a]}return i||++o!=r?i:!!(r=null==t?0:t.length)&&ue(r)&&Qt(a,r)&&(P(t)||ae(t))}(t,e,te)}function se(t,e){return function(t,e,n){for(var o=-1,r=e.length,i={};++o<r;){var a=e[o],l=Ft(t,a);n(l,a)&&Xt(i,Zt(a,t),l)}return i}(t,e,function(e,n){return pe(t,n)})}function ce(t,e){for(var n=-1,o=e.length,r=t.length;++n<o;)t[r+n]=e[n];return t}var fe=R?R.isConcatSpreadable:void 0;function he(t){return P(t)||ae(t)||!!(fe&&t&&t[fe])}function ye(t){return(null==t?0:t.length)?function t(e,n,o,r,i){var a=-1,l=e.length;for(o||(o=he),i||(i=[]);++a<l;){var u=e[a];n>0&&o(u)?n>1?t(u,n-1,o,r,i):ce(i,u):r||(i[i.length]=u)}return i}(t,1):[]}var de=Math.max;function me(t){return t}var ve=$t?function(t,e){return $t(t,"toString",{configurable:!0,enumerable:!1,value:(n=e,function(){return n}),writable:!0});var n}:me,be=800,ge=16,Ee=Date.now;var Oe=function(t){var e=0,n=0;return function(){var o=Ee(),r=ge-(o-n);if(n=o,r>0){if(++e>=be)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}(ve);function je(t){return Oe(function(t,e,n){return e=de(void 0===e?t.length-1:e,0),function(){for(var o=arguments,r=-1,i=de(o.length-e,0),a=Array(i);++r<i;)a[r]=o[e+r];r=-1;for(var l=Array(e+1);++r<e;)l[r]=o[r];return l[e]=n(a),function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}(t,this,l)}}(t,void 0,ye),t+"")}var _e=je(function(t,e){return null==t?{}:se(t,e)});var Ce=200;function Le(t){var e=this.__data__=new _t(t);this.size=e.size}Le.prototype.clear=function(){this.__data__=new _t,this.size=0},Le.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},Le.prototype.get=function(t){return this.__data__.get(t)},Le.prototype.has=function(t){return this.__data__.has(t)},Le.prototype.set=function(t,e){var n=this.__data__;if(n instanceof _t){var o=n.__data__;if(!Ct||o.length<Ce-1)return o.push([t,e]),this.size=++n.size,this;n=this.__data__=new wt(o)}return n.set(t,e),this.size=n.size,this};var we="__lodash_hash_undefined__";function xe(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new wt;++e<n;)this.add(t[e])}function Te(t,e){for(var n=-1,o=null==t?0:t.length;++n<o;)if(e(t[n],n,t))return!0;return!1}xe.prototype.add=xe.prototype.push=function(t){return this.__data__.set(t,we),this},xe.prototype.has=function(t){return this.__data__.has(t)};var Pe=1,Ae=2;function ze(t,e,n,o,r,i){var a=n&Pe,l=t.length,u=e.length;if(l!=u&&!(a&&u>l))return!1;var p=i.get(t);if(p&&i.get(e))return p==e;var s=-1,c=!0,f=n&Ae?new xe:void 0;for(i.set(t,e),i.set(e,t);++s<l;){var h=t[s],y=e[s];if(o)var d=a?o(y,h,s,e,t,i):o(h,y,s,t,e,i);if(void 0!==d){if(d)continue;c=!1;break}if(f){if(!Te(e,function(t,e){if(a=e,!f.has(a)&&(h===t||r(h,t,n,o,i)))return f.push(e);var a})){c=!1;break}}else if(h!==y&&!r(h,y,n,o,i)){c=!1;break}}return i.delete(t),i.delete(e),c}var Ie=I.Uint8Array;function Re(t){var e=-1,n=Array(t.size);return t.forEach(function(t,o){n[++e]=[o,t]}),n}function Se(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}var Me=1,Ue=2,ke="[object Boolean]",We="[object Date]",Be="[object Error]",De="[object Map]",Ne="[object Number]",Ze="[object RegExp]",Ve="[object Set]",qe="[object String]",Fe="[object Symbol]",$e="[object ArrayBuffer]",Ge="[object DataView]",He=R?R.prototype:void 0,Je=He?He.valueOf:void 0;function Ye(t,e,n){var o=e(t);return P(t)?o:ce(o,n(t))}function Ke(){return[]}var Qe=Object.prototype.propertyIsEnumerable,Xe=Object.getOwnPropertySymbols,tn=Xe?function(t){return null==t?[]:(t=Object(t),function(t,e){for(var n=-1,o=null==t?0:t.length,r=0,i=[];++n<o;){var a=t[n];e(a,n,t)&&(i[r++]=a)}return i}(Xe(t),function(e){return Qe.call(t,e)}))}:Ke;var en="object"==typeof t&&t&&!t.nodeType&&t,nn=en&&"object"==typeof module&&module&&!module.nodeType&&module,on=nn&&nn.exports===en?I.Buffer:void 0,rn=(on?on.isBuffer:void 0)||function(){return!1},an={};an["[object Float32Array]"]=an["[object Float64Array]"]=an["[object Int8Array]"]=an["[object Int16Array]"]=an["[object Int32Array]"]=an["[object Uint8Array]"]=an["[object Uint8ClampedArray]"]=an["[object Uint16Array]"]=an["[object Uint32Array]"]=!0,an["[object Arguments]"]=an["[object Array]"]=an["[object ArrayBuffer]"]=an["[object Boolean]"]=an["[object DataView]"]=an["[object Date]"]=an["[object Error]"]=an["[object Function]"]=an["[object Map]"]=an["[object Number]"]=an["[object Object]"]=an["[object RegExp]"]=an["[object Set]"]=an["[object String]"]=an["[object WeakMap]"]=!1;var ln="object"==typeof t&&t&&!t.nodeType&&t,un=ln&&"object"==typeof module&&module&&!module.nodeType&&module,pn=un&&un.exports===ln&&A.process,sn=function(){try{return pn&&pn.binding&&pn.binding("util")}catch(t){}}(),cn=sn&&sn.isTypedArray,fn=cn?function(t){return function(e){return t(e)}}(cn):function(t){return V(t)&&ue(t.length)&&!!an[Z(t)]},hn=Object.prototype.hasOwnProperty;function yn(t,e){var n=P(t),o=!n&&ae(t),r=!n&&!o&&rn(t),i=!n&&!o&&!r&&fn(t),a=n||o||r||i,l=a?function(t,e){for(var n=-1,o=Array(t);++n<t;)o[n]=e(n);return o}(t.length,String):[],u=l.length;for(var p in t)!e&&!hn.call(t,p)||a&&("length"==p||r&&("offset"==p||"parent"==p)||i&&("buffer"==p||"byteLength"==p||"byteOffset"==p)||Qt(p,u))||l.push(p);return l}var dn=Object.prototype;function mn(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||dn)}function vn(t,e){return function(n){return t(e(n))}}var bn=vn(Object.keys,Object),gn=Object.prototype.hasOwnProperty;function En(t){return null!=t&&ue(t.length)&&!tt(t)}function On(t){return En(t)?yn(t):function(t){if(!mn(t))return bn(t);var e=[];for(var n in Object(t))gn.call(t,n)&&"constructor"!=n&&e.push(n);return e}(t)}function jn(t){return Ye(t,On,tn)}var _n=1,Cn=Object.prototype.hasOwnProperty;var Ln=ht(I,"DataView"),wn=ht(I,"Promise"),xn=ht(I,"Set"),Tn=ht(I,"WeakMap"),Pn=it(Ln),An=it(Ct),zn=it(wn),In=it(xn),Rn=it(Tn),Sn=Z;(Ln&&"[object DataView]"!=Sn(new Ln(new ArrayBuffer(1)))||Ct&&"[object Map]"!=Sn(new Ct)||wn&&"[object Promise]"!=Sn(wn.resolve())||xn&&"[object Set]"!=Sn(new xn)||Tn&&"[object WeakMap]"!=Sn(new Tn))&&(Sn=function(t){var e=Z(t),n="[object Object]"==e?t.constructor:void 0,o=n?it(n):"";if(o)switch(o){case Pn:return"[object DataView]";case An:return"[object Map]";case zn:return"[object Promise]";case In:return"[object Set]";case Rn:return"[object WeakMap]"}return e});var Mn=Sn,Un=1,kn="[object Arguments]",Wn="[object Array]",Bn="[object Object]",Dn=Object.prototype.hasOwnProperty;function Nn(t,e,n,o,r,i){var a=P(t),l=P(e),u=a?Wn:Mn(t),p=l?Wn:Mn(e),s=(u=u==kn?Bn:u)==Bn,c=(p=p==kn?Bn:p)==Bn,f=u==p;if(f&&rn(t)){if(!rn(e))return!1;a=!0,s=!1}if(f&&!s)return i||(i=new Le),a||fn(t)?ze(t,e,n,o,r,i):function(t,e,n,o,r,i,a){switch(n){case Ge:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case $e:return!(t.byteLength!=e.byteLength||!i(new Ie(t),new Ie(e)));case ke:case We:case Ne:return Et(+t,+e);case Be:return t.name==e.name&&t.message==e.message;case Ze:case qe:return t==e+"";case De:var l=Re;case Ve:var u=o&Me;if(l||(l=Se),t.size!=e.size&&!u)return!1;var p=a.get(t);if(p)return p==e;o|=Ue,a.set(t,e);var s=ze(l(t),l(e),o,r,i,a);return a.delete(t),s;case Fe:if(Je)return Je.call(t)==Je.call(e)}return!1}(t,e,u,n,o,r,i);if(!(n&Un)){var h=s&&Dn.call(t,"__wrapped__"),y=c&&Dn.call(e,"__wrapped__");if(h||y){var d=h?t.value():t,m=y?e.value():e;return i||(i=new Le),r(d,m,n,o,i)}}return!!f&&(i||(i=new Le),function(t,e,n,o,r,i){var a=n&_n,l=jn(t),u=l.length;if(u!=jn(e).length&&!a)return!1;for(var p=u;p--;){var s=l[p];if(!(a?s in e:Cn.call(e,s)))return!1}var c=i.get(t);if(c&&i.get(e))return c==e;var f=!0;i.set(t,e),i.set(e,t);for(var h=a;++p<u;){var y=t[s=l[p]],d=e[s];if(o)var m=a?o(d,y,s,e,t,i):o(y,d,s,t,e,i);if(!(void 0===m?y===d||r(y,d,n,o,i):m)){f=!1;break}h||(h="constructor"==s)}if(f&&!h){var v=t.constructor,b=e.constructor;v!=b&&"constructor"in t&&"constructor"in e&&!("function"==typeof v&&v instanceof v&&"function"==typeof b&&b instanceof b)&&(f=!1)}return i.delete(t),i.delete(e),f}(t,e,n,o,r,i))}function Zn(t,e,n,o,r){return t===e||(null==t||null==e||!V(t)&&!V(e)?t!=t&&e!=e:Nn(t,e,n,o,Zn,r))}function Vn(t,e){return Zn(t,e)}function qn(t,e,n,o){var r=-1,i=null==t?0:t.length;for(o&&i&&(n=t[++r]);++r<i;)n=e(n,t[r],r,t);return n}var Fn,$n=function(t,e,n){for(var o=-1,r=Object(t),i=n(t),a=i.length;a--;){var l=i[Fn?a:++o];if(!1===e(r[l],l,r))break}return t};var Gn=function(t,e){return function(n,o){if(null==n)return n;if(!En(n))return t(n,o);for(var r=n.length,i=e?r:-1,a=Object(n);(e?i--:++i<r)&&!1!==o(a[i],i,a););return n}}(function(t,e){return t&&$n(t,e,On)}),Hn=1,Jn=2;function Yn(t){return t==t&&!J(t)}function Kn(t,e){return function(n){return null!=n&&(n[t]===e&&(void 0!==e||t in Object(n)))}}function Qn(t){var e=function(t){for(var e=On(t),n=e.length;n--;){var o=e[n],r=t[o];e[n]=[o,r,Yn(r)]}return e}(t);return 1==e.length&&e[0][2]?Kn(e[0][0],e[0][1]):function(n){return n===t||function(t,e,n,o){var r=n.length,i=r,a=!o;if(null==t)return!i;for(t=Object(t);r--;){var l=n[r];if(a&&l[2]?l[1]!==t[l[0]]:!(l[0]in t))return!1}for(;++r<i;){var u=(l=n[r])[0],p=t[u],s=l[1];if(a&&l[2]){if(void 0===p&&!(u in t))return!1}else{var c=new Le;if(o)var f=o(p,s,u,t,e,c);if(!(void 0===f?Zn(s,p,Hn|Jn,o,c):f))return!1}}return!0}(n,t,e)}}var Xn=1,to=2;function eo(t,e){return H(t)&&Yn(e)?Kn(qt(t),e):function(n){var o=function(t,e,n){var o=null==t?void 0:Ft(t,e);return void 0===o?n:o}(n,t);return void 0===o&&o===e?pe(n,t):Zn(e,o,Xn|to)}}function no(t){return H(t)?(e=qt(t),function(t){return null==t?void 0:t[e]}):function(t){return function(e){return Ft(e,t)}}(t);var e}function oo(t,e,n,o,r){return r(t,function(t,r,i){n=o?(o=!1,t):e(n,t,r,i)}),n}function ro(t,e,n){var o,r=P(t)?qn:oo,i=arguments.length<3;return r(t,"function"==typeof(o=e)?o:null==o?me:"object"==typeof o?P(o)?eo(o[0],o[1]):Qn(o):no(o),n,i,Gn)}function io(t,e){for(var n=-1,o=null==t?0:t.length;++n<o&&!1!==e(t[n],n,t););return t}function ao(t,e){var n;return(P(t)?io:Gn)(t,"function"==typeof(n=e)?n:me)}function lo(t,e,n,o){var r=!n;n||(n={});for(var i=-1,a=e.length;++i<a;){var l=e[i],u=o?o(n[l],t[l],l,n,t):void 0;void 0===u&&(u=t[l]),r?Gt(n,l,u):Jt(n,l,u)}return n}var uo=Object.prototype.hasOwnProperty;function po(t){if(!J(t))return function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}(t);var e=mn(t),n=[];for(var o in t)("constructor"!=o||!e&&uo.call(t,o))&&n.push(o);return n}function so(t){return En(t)?yn(t,!0):po(t)}var co="object"==typeof t&&t&&!t.nodeType&&t,fo=co&&"object"==typeof module&&module&&!module.nodeType&&module,ho=fo&&fo.exports===co?I.Buffer:void 0,yo=ho?ho.allocUnsafe:void 0;var mo=vn(Object.getPrototypeOf,Object),vo=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)ce(e,tn(t)),t=mo(t);return e}:Ke;function bo(t){return Ye(t,so,vo)}var go=Object.prototype.hasOwnProperty;function Eo(t){var e=new t.constructor(t.byteLength);return new Ie(e).set(new Ie(t)),e}function Oo(t,e){return t.set(e[0],e[1]),t}var jo=1;var _o=/\w*$/;function Co(t,e){return t.add(e),t}var Lo=1;var wo=R?R.prototype:void 0,xo=wo?wo.valueOf:void 0;var To="[object Boolean]",Po="[object Date]",Ao="[object Map]",zo="[object Number]",Io="[object RegExp]",Ro="[object Set]",So="[object String]",Mo="[object Symbol]",Uo="[object ArrayBuffer]",ko="[object DataView]",Wo="[object Float32Array]",Bo="[object Float64Array]",Do="[object Int8Array]",No="[object Int16Array]",Zo="[object Int32Array]",Vo="[object Uint8Array]",qo="[object Uint8ClampedArray]",Fo="[object Uint16Array]",$o="[object Uint32Array]";function Go(t,e,n,o){var r,i,a,l=t.constructor;switch(e){case Uo:return Eo(t);case To:case Po:return new l(+t);case ko:return function(t,e){var n=e?Eo(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}(t,o);case Wo:case Bo:case Do:case No:case Zo:case Vo:case qo:case Fo:case $o:return function(t,e){var n=e?Eo(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}(t,o);case Ao:return function(t,e,n){return qn(e?n(Re(t),jo):Re(t),Oo,new t.constructor)}(t,o,n);case zo:case So:return new l(t);case Io:return(a=new(i=t).constructor(i.source,_o.exec(i))).lastIndex=i.lastIndex,a;case Ro:return function(t,e,n){return qn(e?n(Se(t),Lo):Se(t),Co,new t.constructor)}(t,o,n);case Mo:return r=t,xo?Object(xo.call(r)):{}}}var Ho=Object.create,Jo=function(){function t(){}return function(e){if(!J(e))return{};if(Ho)return Ho(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();var Yo=1,Ko=2,Qo=4,Xo="[object Arguments]",tr="[object Function]",er="[object GeneratorFunction]",nr="[object Object]",or={};function rr(t,e,n,o,r,i){var a,l=e&Yo,u=e&Ko,p=e&Qo;if(n&&(a=r?n(t,o,r,i):n(t)),void 0!==a)return a;if(!J(t))return t;var s=P(t);if(s){if(a=function(t){var e=t.length,n=t.constructor(e);return e&&"string"==typeof t[0]&&go.call(t,"index")&&(n.index=t.index,n.input=t.input),n}(t),!l)return function(t,e){var n=-1,o=t.length;for(e||(e=Array(o));++n<o;)e[n]=t[n];return e}(t,a)}else{var c=Mn(t),f=c==tr||c==er;if(rn(t))return function(t,e){if(e)return t.slice();var n=t.length,o=yo?yo(n):new t.constructor(n);return t.copy(o),o}(t,l);if(c==nr||c==Xo||f&&!r){if(a=u||f?{}:function(t){return"function"!=typeof t.constructor||mn(t)?{}:Jo(mo(t))}(t),!l)return u?function(t,e){return lo(t,vo(t),e)}(t,function(t,e){return t&&lo(e,so(e),t)}(a,t)):function(t,e){return lo(t,tn(t),e)}(t,function(t,e){return t&&lo(e,On(e),t)}(a,t))}else{if(!or[c])return r?t:{};a=Go(t,c,rr,l)}}i||(i=new Le);var h=i.get(t);if(h)return h;i.set(t,a);var y=p?u?bo:jn:u?keysIn:On,d=s?void 0:y(t);return io(d||t,function(o,r){d&&(o=t[r=o]),Jt(a,r,rr(o,e,n,r,t,i))}),a}or[Xo]=or["[object Array]"]=or["[object ArrayBuffer]"]=or["[object DataView]"]=or["[object Boolean]"]=or["[object Date]"]=or["[object Float32Array]"]=or["[object Float64Array]"]=or["[object Int8Array]"]=or["[object Int16Array]"]=or["[object Int32Array]"]=or["[object Map]"]=or["[object Number]"]=or[nr]=or["[object RegExp]"]=or["[object Set]"]=or["[object String]"]=or["[object Symbol]"]=or["[object Uint8Array]"]=or["[object Uint8ClampedArray]"]=or["[object Uint16Array]"]=or["[object Uint32Array]"]=!0,or["[object Error]"]=or[tr]=or["[object WeakMap]"]=!1;var ir=4;var ar=/^on(.+)$/i,lr=function(t){function e(n,o){O(this,e);var r=w(this,t.call(this,n,o));return r._leafletEvents={},r}return C(e,t),e.prototype.componentWillMount=function(){this._leafletEvents=this.extractLeafletEvents(this.props)},e.prototype.componentDidMount=function(){this.bindLeafletEvents(this._leafletEvents)},e.prototype.componentWillReceiveProps=function(t){var e=this.extractLeafletEvents(t);this._leafletEvents=this.bindLeafletEvents(e,this._leafletEvents)},e.prototype.componentWillUnmount=function(){var t=this.leafletElement;t&&ao(this._leafletEvents,function(e,n){t.off(n,e)})},e.prototype.extractLeafletEvents=function(t){return ro(On(t),function(e,n){if(ar.test(n)){var o=n.replace(ar,function(t,e){return e.toLowerCase()});null!=t[n]&&(e[o]=t[n])}return e},{})},e.prototype.bindLeafletEvents=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.leafletElement;if(null==n||null==n.on)return{};var o=rr(e,ir);return ao(e,function(e,r){t[r]&&e===t[r]||(delete o[r],n.off(r,e))}),ao(t,function(t,r){e[r]&&t===e[r]||(o[r]=t,n.on(r,t))}),o},e.prototype.fireLeafletEvent=function(t,e){var n=this.leafletElement;n&&n.fire(t,e)},e.prototype.getOptions=function(t){var e=null==t.pane?this.context.pane:t.pane;return e?_({},t,{pane:e}):t},e}(n.Component),ur=function(t){function e(){return O(this,e),w(this,t.apply(this,arguments))}return C(e,t),e.prototype.createLeafletElement=function(t){throw new Error("createLeafletElement() must be implemented")},e.prototype.updateLeafletElement=function(t,e){},e.prototype.componentWillMount=function(){t.prototype.componentWillMount.call(this),this.leafletElement=this.createLeafletElement(this.props)},e.prototype.componentDidMount=function(){t.prototype.componentDidMount.call(this),this.layerContainer.addLayer(this.leafletElement)},e.prototype.componentDidUpdate=function(t){this.updateLeafletElement(t,this.props)},e.prototype.componentWillUnmount=function(){t.prototype.componentWillUnmount.call(this),this.layerContainer.removeLayer(this.leafletElement)},e.prototype.render=function(){var t=this.props.children;return n.Children.count(t)>1?r.createElement("div",{style:{display:"none"}},t):null==t?null:t},j(e,[{key:"layerContainer",get:function(){return this.context.layerContainer||this.context.map}}]),e}(lr);ur.propTypes={children:y},ur.contextTypes={layerContainer:v,map:b,pane:s.string};var pr=["stroke","color","weight","opacity","lineCap","lineJoin","dashArray","dashOffset","fill","fillColor","fillOpacity","fillRule","bubblingMouseEvents","renderer","className","interactive","pane","attribution"],sr=function(t){function e(){return O(this,e),w(this,t.apply(this,arguments))}return C(e,t),e.prototype.componentDidUpdate=function(e){t.prototype.componentDidUpdate.call(this,e),this.setStyleIfChanged(e,this.props)},e.prototype.getChildContext=function(){return{popupContainer:this.leafletElement}},e.prototype.getPathOptions=function(t){return _e(t,pr)},e.prototype.setStyle=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.leafletElement.setStyle(t)},e.prototype.setStyleIfChanged=function(t,e){var n=this.getPathOptions(e);Vn(n,this.getPathOptions(t))||this.setStyle(n)},e}(ur);sr.childContextTypes={children:y,popupContainer:m};var cr=function(t){function n(){return O(this,n),w(this,t.apply(this,arguments))}return C(n,t),n.prototype.createLeafletElement=function(t){var n=t.center,o=t.radius,r=L(t,["center","radius"]);return new e.Circle(n,o,this.getOptions(r))},n.prototype.updateLeafletElement=function(t,e){e.center!==t.center&&this.leafletElement.setLatLng(e.center),e.radius!==t.radius&&this.leafletElement.setRadius(e.radius)},n}(sr);cr.propTypes={center:c.isRequired,children:y,radius:s.number.isRequired};var fr=function(t){function n(){return O(this,n),w(this,t.apply(this,arguments))}return C(n,t),n.prototype.getChildContext=function(){return{popupContainer:this.leafletElement}},n.prototype.createLeafletElement=function(t){return new e.CircleMarker(t.center,this.getOptions(t))},n.prototype.updateLeafletElement=function(t,e){e.center!==t.center&&this.leafletElement.setLatLng(e.center),e.radius!==t.radius&&this.leafletElement.setRadius(e.radius)},n}(sr);fr.propTypes={center:c.isRequired,children:y,radius:s.number},fr.childContextTypes={popupContainer:m};var hr=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").split(" ").filter(Boolean)},yr=function(t,n,o){null!=t&&o!==n&&(null!=n&&n.length>0&&ao(hr(n),function(n){e.DomUtil.removeClass(t,n)}),null!=o&&o.length>0&&ao(hr(o),function(n){e.DomUtil.addClass(t,n)}))},dr=function(t){function e(){var r,i;O(this,e);for(var a=arguments.length,l=Array(a),u=0;u<a;u++)l[u]=arguments[u];return r=i=w(this,t.call.apply(t,[this].concat(l))),i.onClose=function(){i.removeContent(),i.props.onClose&&i.props.onClose()},i.onOpen=function(){i.renderContent(),i.props.onOpen&&i.props.onOpen()},i.renderContent=function(){null==i.props.children?i.removeContent():o.render(n.Children.only(i.props.children),i.leafletElement._contentNode,function(){i.leafletElement.update(),i.onRender()})},i.removeContent=function(){i.leafletElement._contentNode&&o.unmountComponentAtNode(i.leafletElement._contentNode)},w(i,r)}return C(e,t),e.prototype.updateLeafletElement=function(t,e){},e.prototype.componentDidUpdate=function(t){yr(this.leafletElement._container,t.className,this.props.className),this.updateLeafletElement(t,this.props),this.leafletElement.isOpen()&&this.renderContent()},e.prototype.onRender=function(){},e.prototype.render=function(){return null},e}(lr);dr.propTypes={children:s.node,onClose:s.func,onOpen:s.func};var mr=function(t){function n(){return O(this,n),w(this,t.apply(this,arguments))}return C(n,t),n.prototype.getChildContext=function(){return{layerContainer:this.leafletElement,popupContainer:this.leafletElement}},n.prototype.createLeafletElement=function(t){return new e.FeatureGroup(this.getOptions(t))},n.prototype.componentDidMount=function(){t.prototype.componentDidMount.call(this),this.setStyle(this.props)},n}(sr);mr.childContextTypes={children:y,layerContainer:v,popupContainer:m};var vr=function(t){function n(){return O(this,n),w(this,t.apply(this,arguments))}return C(n,t),n.prototype.createLeafletElement=function(t){return new e.GeoJSON(t.data,this.getOptions(t))},n.prototype.updateLeafletElement=function(t,e){tt(e.style)?this.setStyle(e.style):this.setStyleIfChanged(t,e)},n}(sr);vr.propTypes={children:y,data:s.oneOfType([s.array,s.object]).isRequired};var br=function(t){function n(){return O(this,n),w(this,t.apply(this,arguments))}return C(n,t),n.prototype.createLeafletElement=function(t){return new e.GridLayer(this.getOptions(t))},n.prototype.updateLeafletElement=function(t,e){var n=e.opacity,o=e.zIndex;n!==t.opacity&&this.leafletElement.setOpacity(n),o!==t.zIndex&&this.leafletElement.setZIndex(o)},n.prototype.render=function(){return null},n}(ur);br.propTypes={children:y,opacity:s.number,zIndex:s.number};var gr=function(t){function n(){return O(this,n),w(this,t.apply(this,arguments))}return C(n,t),n.prototype.getChildContext=function(){return{popupContainer:this.leafletElement}},n.prototype.createLeafletElement=function(t){return new e.ImageOverlay(t.url,t.bounds,this.getOptions(t))},n.prototype.updateLeafletElement=function(t,n){n.url!==t.url&&this.leafletElement.setUrl(n.url),n.bounds!==t.bounds&&this.leafletElement.setBounds(e.latLngBounds(n.bounds)),n.opacity!==t.opacity&&this.leafletElement.setOpacity(n.opacity),n.zIndex!==t.zIndex&&this.leafletElement.setZIndex(n.zIndex)},n}(ur);gr.propTypes={attribution:s.string,bounds:h.isRequired,children:y,opacity:s.number,url:s.oneOfType([s.string,s.instanceOf(HTMLImageElement)]).isRequired,zIndex:s.number},gr.childContextTypes={popupContainer:m};var Er=function(t){function n(){return O(this,n),w(this,t.apply(this,arguments))}return C(n,t),n.prototype.getChildContext=function(){return{layerContainer:this.leafletElement}},n.prototype.createLeafletElement=function(){return new e.LayerGroup(this.getOptions(this.props))},n}(ur);Er.childContextTypes={layerContainer:v};var Or={checked:s.bool,children:s.node.isRequired,removeLayer:s.func,removeLayerControl:s.func},jr=_({},Or,{addBaseLayer:s.func,addOverlay:s.func,name:s.string.isRequired}),_r=function(t){function e(){return O(this,e),w(this,t.apply(this,arguments))}return C(e,t),e.prototype.getChildContext=function(){return{layerContainer:{addLayer:this.addLayer.bind(this),removeLayer:this.removeLayer.bind(this)}}},e.prototype.componentWillReceiveProps=function(t){var e=t.checked;!0!==e||null!=this.props.checked&&!1!==this.props.checked?!0!==this.props.checked||null!=e&&!1!==e||this.context.map.removeLayer(this.layer):this.context.map.addLayer(this.layer)},e.prototype.componentWillUnmount=function(){this.props.removeLayerControl(this.layer)},e.prototype.addLayer=function(){throw new Error("Must be implemented in extending class")},e.prototype.removeLayer=function(t){this.props.removeLayer(t)},e.prototype.render=function(){return this.props.children||null},e}(n.Component);_r.propTypes=Or,_r.contextTypes={map:b},_r.childContextTypes={layerContainer:v};var Cr=function(t){function e(){return O(this,e),w(this,t.apply(this,arguments))}return C(e,t),e.prototype.addLayer=function(t){this.layer=t;var e=this.props,n=e.addBaseLayer,o=e.checked;n(t,e.name,o)},e}(_r);Cr.propTypes=jr;var Lr=function(t){function e(){return O(this,e),w(this,t.apply(this,arguments))}return C(e,t),e.prototype.addLayer=function(t){this.layer=t;var e=this.props,n=e.addOverlay,o=e.checked;n(t,e.name,o)},e}(_r);Lr.propTypes=jr;var wr=function(t){function o(){return O(this,o),w(this,t.apply(this,arguments))}return C(o,t),o.prototype.createLeafletElement=function(t){t.children;var n=L(t,["children"]);return new e.Control.Layers(void 0,void 0,n)},o.prototype.componentWillMount=function(){t.prototype.componentWillMount.call(this),this.controlProps={addBaseLayer:this.addBaseLayer.bind(this),addOverlay:this.addOverlay.bind(this),removeLayer:this.removeLayer.bind(this),removeLayerControl:this.removeLayerControl.bind(this)}},o.prototype.componentWillUnmount=function(){var e=this;setTimeout(function(){t.prototype.componentWillUnmount.call(e)},0)},o.prototype.addBaseLayer=function(t,e){arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&this.context.map.addLayer(t),this.leafletElement.addBaseLayer(t,e)},o.prototype.addOverlay=function(t,e){arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&this.context.map.addLayer(t),this.leafletElement.addOverlay(t,e)},o.prototype.removeLayer=function(t){this.context.map.removeLayer(t)},o.prototype.removeLayerControl=function(t){this.leafletElement.removeLayer(t)},o.prototype.render=function(){var t=this,e=n.Children.map(this.props.children,function(e){return e?n.cloneElement(e,t.controlProps):null});return r.createElement("div",{style:{display:"none"}},e)},o}(x);function xr(t,e){return e.length<2?t:Ft(t,function(t,e,n){var o=-1,r=t.length;e<0&&(e=-e>r?0:r+e),(n=n>r?r:n)<0&&(n+=r),r=e>n?0:n-e>>>0,e>>>=0;for(var i=Array(r);++o<r;)i[o]=t[o+e];return i}(e,0,-1))}function Tr(t,e){return null==(t=xr(t,e=Zt(e,t)))||delete t[qt((n=e,o=null==n?0:n.length,o?n[o-1]:void 0))];var n,o}wr.propTypes={baseLayers:s.object,children:y,overlays:s.object,position:d},wr.contextTypes={layerContainer:v,map:b},wr.BaseLayer=Cr,wr.Overlay=Lr;var Pr="[object Object]",Ar=Function.prototype,zr=Object.prototype,Ir=Ar.toString,Rr=zr.hasOwnProperty,Sr=Ir.call(Object);function Mr(t){return function(t){if(!V(t)||Z(t)!=Pr)return!1;var e=mo(t);if(null===e)return!0;var n=Rr.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&Ir.call(n)==Sr}(t)?void 0:t}var Ur=je(function(t,e){var n={};if(null==t)return n;var o=!1;e=Ut(e,function(e){return e=Zt(e,t),o||(o=e.length>1),e}),lo(t,bo(t),n),o&&(n=rr(n,7,Mr));for(var r=e.length;r--;)Tr(n,e[r]);return n});var kr=["children","className","id","style","useFlyTo","whenReady"],Wr=function(t){return Array.isArray(t)?[t[0],t[1]]:[t.lat,t.lon?t.lon:t.lng]},Br=function(t){function n(e,o){O(this,n);var r=w(this,t.call(this,e,o));return r.viewport={center:void 0,zoom:void 0},r._updating=!1,r.onViewportChange=function(){var t=r.leafletElement.getCenter();r.viewport={center:t?[t.lat,t.lng]:void 0,zoom:r.leafletElement.getZoom()},r.props.onViewportChange&&!r._updating&&r.props.onViewportChange(r.viewport)},r.onViewportChanged=function(){r.props.onViewportChanged&&!r._updating&&r.props.onViewportChanged(r.viewport)},r.bindContainer=function(t){r.container=t},r.className=e.className,r}return C(n,t),n.prototype.getChildContext=function(){return{layerContainer:this.leafletElement,map:this.leafletElement}},n.prototype.createLeafletElement=function(t){var n=t.viewport,o=L(t,["viewport"]);return n&&(n.center&&(o.center=n.center),"number"==typeof n.zoom&&(o.zoom=n.zoom)),new e.Map(this.container,o)},n.prototype.updateLeafletElement=function(t,e){this._updating=!0;var n=e.animate,o=e.bounds,r=e.boundsOptions,i=e.boxZoom,a=e.center,l=e.className,u=e.doubleClickZoom,p=e.dragging,s=e.keyboard,c=e.maxBounds,f=e.scrollWheelZoom,h=e.tap,y=e.touchZoom,d=e.useFlyTo,m=e.viewport,v=e.zoom;if(yr(this.container,t.className,l),m&&m!==t.viewport){var b=m.center?m.center:a,g=null==m.zoom?v:m.zoom;!0===d?this.leafletElement.flyTo(b,g,{animate:n}):this.leafletElement.setView(b,g,{animate:n})}else a&&this.shouldUpdateCenter(a,t.center)?!0===d?this.leafletElement.flyTo(a,v,{animate:n}):this.leafletElement.setView(a,v,{animate:n}):"number"==typeof v&&v!==t.zoom&&(null==t.zoom?this.leafletElement.setView(a,v):this.leafletElement.setZoom(v));c&&this.shouldUpdateBounds(c,t.maxBounds)&&this.leafletElement.setMaxBounds(c),o&&(this.shouldUpdateBounds(o,t.bounds)||r!==t.boundsOptions)&&(!0===d?this.leafletElement.flyToBounds(o,r):this.leafletElement.fitBounds(o,r)),i!==t.boxZoom&&(!0===i?this.leafletElement.boxZoom.enable():this.leafletElement.boxZoom.disable()),u!==t.doubleClickZoom&&(!0===u?this.leafletElement.doubleClickZoom.enable():this.leafletElement.doubleClickZoom.disable()),p!==t.dragging&&(!0===p?this.leafletElement.dragging.enable():this.leafletElement.dragging.disable()),s!==t.keyboard&&(!0===s?this.leafletElement.keyboard.enable():this.leafletElement.keyboard.disable()),f!==t.scrollWheelZoom&&(!0===f||"string"==typeof f?(this.leafletElement.options.scrollWheelZoom=f,this.leafletElement.scrollWheelZoom.enable()):this.leafletElement.scrollWheelZoom.disable()),h!==t.tap&&(!0===h?this.leafletElement.tap.enable():this.leafletElement.tap.disable()),y!==t.touchZoom&&(!0===y||"string"==typeof y?(this.leafletElement.options.touchZoom=y,this.leafletElement.touchZoom.enable()):this.leafletElement.touchZoom.disable()),this._updating=!1},n.prototype.componentDidMount=function(){var e=Ur(this.props,kr);this.leafletElement=this.createLeafletElement(e),this.leafletElement.on("move",this.onViewportChange),this.leafletElement.on("moveend",this.onViewportChanged),void 0!==e.bounds&&this.leafletElement.fitBounds(e.bounds,e.boundsOptions),this.props.whenReady&&this.leafletElement.whenReady(this.props.whenReady),t.prototype.componentDidMount.call(this),this.forceUpdate()},n.prototype.componentDidUpdate=function(t){this.updateLeafletElement(t,this.props)},n.prototype.componentWillUnmount=function(){t.prototype.componentWillUnmount.call(this),this.leafletElement.off("move",this.onViewportChange),this.leafletElement.off("moveend",this.onViewportChanged),!0===this.props.preferCanvas?(this.leafletElement._initEvents(!0),this.leafletElement._stop()):this.leafletElement.remove()},n.prototype.shouldUpdateCenter=function(t,e){return!e||(t=Wr(t),e=Wr(e),t[0]!==e[0]||t[1]!==e[1])},n.prototype.shouldUpdateBounds=function(t,n){return!n||!e.latLngBounds(t).equals(e.latLngBounds(n))},n.prototype.render=function(){var t=this.leafletElement?this.props.children:null;return r.createElement("div",{className:this.className,id:this.props.id,ref:this.bindContainer,style:this.props.style},t)},n}(lr);Br.propTypes={animate:s.bool,bounds:h,boundsOptions:s.object,center:c,children:y,className:s.string,id:s.string,maxBounds:h,maxZoom:s.number,minZoom:s.number,style:s.object,useFlyTo:s.bool,viewport:g,whenReady:s.func,zoom:s.number},Br.childContextTypes={layerContainer:v,map:b};var Dr=function(t){function n(){return O(this,n),w(this,t.apply(this,arguments))}return C(n,t),n.prototype.getChildContext=function(){return{popupContainer:this.leafletElement}},n.prototype.createLeafletElement=function(t){return new e.Marker(t.position,this.getOptions(t))},n.prototype.updateLeafletElement=function(t,e){e.position!==t.position&&this.leafletElement.setLatLng(e.position),e.icon!==t.icon&&this.leafletElement.setIcon(e.icon),e.zIndexOffset!==t.zIndexOffset&&this.leafletElement.setZIndexOffset(e.zIndexOffset),e.opacity!==t.opacity&&this.leafletElement.setOpacity(e.opacity),e.draggable!==t.draggable&&(!0===e.draggable?this.leafletElement.dragging.enable():this.leafletElement.dragging.disable())},n}(ur);Dr.propTypes={children:y,draggable:s.bool,icon:s.instanceOf(e.Icon),opacity:s.number,position:c.isRequired,zIndexOffset:s.number},Dr.childContextTypes={popupContainer:m};var Nr=0;var Zr=["tile","shadow","overlay","map","marker","tooltip","popup"],Vr={position:"absolute",top:0,right:0,bottom:0,left:0},qr=function(t){function e(){var n,o;O(this,e);for(var r=arguments.length,i=Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=o=w(this,t.call.apply(t,[this].concat(i))),o.state={name:void 0},o.setStyle=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.props,e=t.style,n=t.className,r=o.getPane(o.state.name);r&&(n&&r.classList.add(n),e&&ao(e,function(t,e){r.style[e]=t}))},w(o,n)}return C(e,t),e.prototype.getChildContext=function(){return{pane:this.state.name}},e.prototype.componentDidMount=function(){this.createPane(this.props)},e.prototype.componentWillReceiveProps=function(t){if(this.state.name)if(t.name!==this.props.name)this.removePane(),this.createPane(t);else{if(this.props.className&&t.className!==this.props.className){var e=this.getPane();e&&this.props.className&&e.classList.remove(this.props.className)}this.setStyle(t)}},e.prototype.componentWillUnmount=function(){this.removePane()},e.prototype.createPane=function(t){var e,n,o=this.context.map,r=t.name||"pane-"+(n=++Nr,Nt(e)+n);o&&o.createPane&&(function(t){return-1!==Zr.indexOf(t.replace(/-*pane/gi,""))}(r)||this.getPane(r)||o.createPane(r,this.getParentPane()),this.setState({name:r},this.setStyle))},e.prototype.removePane=function(){var t=this.state.name;if(t){var e=this.getPane(t);e&&e.remove&&e.remove();var n=this.context.map;n&&n._panes&&(n._panes=Ur(n._panes,t),n._paneRenderers=Ur(n._paneRenderers,t)),this.setState({name:void 0})}},e.prototype.getParentPane=function(){return this.getPane(this.props.pane||this.context.pane)},e.prototype.getPane=function(t){return t?this.context.map.getPane(t):void 0},e.prototype.render=function(){return this.state.name?r.createElement("div",{style:Vr},this.props.children):null},e}(n.Component);qr.propTypes={name:s.string,children:y,map:b,className:s.string,style:s.object,pane:s.string},qr.contextTypes={map:b,pane:s.string},qr.childContextTypes={pane:s.string};var Fr=s.arrayOf(f),$r=function(t){function n(){return O(this,n),w(this,t.apply(this,arguments))}return C(n,t),n.prototype.createLeafletElement=function(t){return new e.Polygon(t.positions,this.getOptions(t))},n.prototype.updateLeafletElement=function(t,e){e.positions!==t.positions&&this.leafletElement.setLatLngs(e.positions),this.setStyleIfChanged(t,e)},n}(sr);$r.propTypes={children:y,positions:s.oneOfType([f,Fr,s.arrayOf(Fr)]).isRequired};var Gr=function(t){function n(){return O(this,n),w(this,t.apply(this,arguments))}return C(n,t),n.prototype.createLeafletElement=function(t){return new e.Polyline(t.positions,this.getOptions(t))},n.prototype.updateLeafletElement=function(t,e){e.positions!==t.positions&&this.leafletElement.setLatLngs(e.positions),this.setStyleIfChanged(t,e)},n}(sr);Gr.propTypes={children:y,positions:s.oneOfType([f,s.arrayOf(f)]).isRequired};var Hr=function(t){function n(){var e,o;O(this,n);for(var r=arguments.length,i=Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=o=w(this,t.call.apply(t,[this].concat(i))),o.onPopupOpen=function(t){t.popup===o.leafletElement&&o.onOpen()},o.onPopupClose=function(t){t.popup===o.leafletElement&&o.onClose()},o.onRender=function(){!1!==o.props.autoPan&&o.leafletElement.isOpen()&&(o.leafletElement._map&&o.leafletElement._map._panAnim&&(o.leafletElement._map._panAnim=void 0),o.leafletElement._adjustPan())},w(o,e)}return C(n,t),n.prototype.getOptions=function(e){return _({},t.prototype.getOptions.call(this,e),{autoPan:!1})},n.prototype.createLeafletElement=function(t){return new e.Popup(this.getOptions(t),this.context.popupContainer||t.popupContainer)},n.prototype.updateLeafletElement=function(t,e){e.position!==t.position&&this.leafletElement.setLatLng(e.position)},n.prototype.componentWillMount=function(){t.prototype.componentWillMount.call(this),this.leafletElement=this.createLeafletElement(this.props),this.leafletElement.options.autoPan=!1!==this.props.autoPan,this.context.map.on({popupopen:this.onPopupOpen,popupclose:this.onPopupClose})},n.prototype.componentDidMount=function(){var t=this.props.position,e=this.context.map,n=this.leafletElement,o=this.context.popupContainer||this.props.popupContainer;o?o.bindPopup(n):(t&&n.setLatLng(t),n.openOn(e))},n.prototype.componentWillUnmount=function(){this.removeContent(),this.context.map.off({popupopen:this.onPopupOpen,popupclose:this.onPopupClose}),this.context.map.removeLayer(this.leafletElement),t.prototype.componentWillUnmount.call(this)},n}(dr);Hr.propTypes={children:s.node,onClose:s.func,onOpen:s.func,position:c,popupContainer:m},Hr.contextTypes={map:b,popupContainer:m,pane:s.string},Hr.defaultProps={pane:"popupPane"};var Jr=function(t){function n(){return O(this,n),w(this,t.apply(this,arguments))}return C(n,t),n.prototype.createLeafletElement=function(t){return new e.Rectangle(t.bounds,this.getOptions(t))},n.prototype.updateLeafletElement=function(t,e){e.bounds!==t.bounds&&this.leafletElement.setBounds(e.bounds),this.setStyleIfChanged(t,e)},n}(sr);Jr.propTypes={children:y,bounds:h.isRequired};var Yr=function(t){function n(){return O(this,n),w(this,t.apply(this,arguments))}return C(n,t),n.prototype.createLeafletElement=function(t){return new e.Control.Scale(t)},n}(x);Yr.propTypes={imperial:s.bool,maxWidth:s.number,metric:s.bool,position:d,updateWhenIdle:s.bool};var Kr=function(t){function n(){return O(this,n),w(this,t.apply(this,arguments))}return C(n,t),n.prototype.createLeafletElement=function(t){return new e.TileLayer(t.url,this.getOptions(t))},n.prototype.updateLeafletElement=function(e,n){t.prototype.updateLeafletElement.call(this,e,n),n.url!==e.url&&this.leafletElement.setUrl(n.url)},n}(br);Kr.propTypes={children:y,opacity:s.number,url:s.string.isRequired,zIndex:s.number};var Qr=function(t){function n(){var e,o;O(this,n);for(var r=arguments.length,i=Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=o=w(this,t.call.apply(t,[this].concat(i))),o.onTooltipOpen=function(t){t.tooltip===o.leafletElement&&o.onOpen()},o.onTooltipClose=function(t){t.tooltip===o.leafletElement&&o.onClose()},w(o,e)}return C(n,t),n.prototype.createLeafletElement=function(t){return new e.Tooltip(this.getOptions(t),this.context.popupContainer)},n.prototype.componentWillMount=function(){t.prototype.componentWillMount.call(this),this.leafletElement=this.createLeafletElement(this.props),this.context.popupContainer.on({tooltipopen:this.onTooltipOpen,tooltipclose:this.onTooltipClose})},n.prototype.componentDidMount=function(){this.context.popupContainer.bindTooltip(this.leafletElement)},n.prototype.componentWillUnmount=function(){var e=this.context.popupContainer;this.removeContent(),e.off({tooltipopen:this.onTooltipOpen,tooltipclose:this.onTooltipClose}),null!=e._map&&e.unbindTooltip(this.leafletElement),t.prototype.componentWillUnmount.call(this)},n}(dr);Qr.propTypes={children:s.node,onClose:s.func,onOpen:s.func},Qr.contextTypes={map:b,popupContainer:m,pane:s.string},Qr.defaultProps={pane:"tooltipPane"};var Xr=function(t){function n(){return O(this,n),w(this,t.apply(this,arguments))}return C(n,t),n.prototype.createLeafletElement=function(t){return new e.VideoOverlay(t.url,t.bounds,this.getOptions(t))},n.prototype.componentDidMount=function(){t.prototype.componentDidMount.call(this),!0===this.props.play&&this.leafletElement.getElement().play()},n.prototype.updateLeafletElement=function(t,n){n.url!==t.url&&this.leafletElement.setUrl(n.url),n.bounds!==t.bounds&&this.leafletElement.setBounds(e.latLngBounds(n.bounds)),n.opacity!==t.opacity&&this.leafletElement.setOpacity(n.opacity),n.zIndex!==t.zIndex&&this.leafletElement.setZIndex(n.zIndex),!0!==n.play||t.play?n.play||!0!==t.play||this.leafletElement.getElement().pause():this.leafletElement.getElement().play()},n}(ur);Xr.propTypes={attribution:s.string,bounds:h.isRequired,opacity:s.number,play:s.bool,url:s.oneOfType([s.string,s.arrayOf(s.string),s.instanceOf(HTMLVideoElement)]).isRequired,zIndex:s.number};var ti=function(t){function n(){return O(this,n),w(this,t.apply(this,arguments))}return C(n,t),n.prototype.createLeafletElement=function(t){var n=t.url,o=L(t,["url"]);return new e.TileLayer.WMS(n,this.getOptions(o))},n.prototype.updateLeafletElement=function(e,n){t.prototype.updateLeafletElement.call(this,e,n);var o=e.url,r=(e.opacity,e.zIndex,L(e,["url","opacity","zIndex"])),i=n.url,a=(n.opacity,n.zIndex,L(n,["url","opacity","zIndex"]));i!==o&&this.leafletElement.setUrl(i),Vn(a,r)||this.leafletElement.setParams(a)},n.prototype.getOptions=function(e){return ro(t.prototype.getOptions.call(this,e),function(t,e,n){return ar.test(n)||(t[n]=e),t},{})},n}(br);ti.propTypes={children:y,opacity:s.number,url:s.string.isRequired,zIndex:s.number};var ei=function(t){function n(){return O(this,n),w(this,t.apply(this,arguments))}return C(n,t),n.prototype.createLeafletElement=function(t){return new e.Control.Zoom(t)},n}(x);ei.propTypes={position:d,zoomInText:s.string,zoomInTitle:s.string,zoomOutText:s.string,zoomOutTitle:s.string},t.PropTypes=E,t.AttributionControl=T,t.Circle=cr,t.CircleMarker=fr,t.DivOverlay=dr,t.FeatureGroup=mr,t.GeoJSON=vr,t.GridLayer=br,t.ImageOverlay=gr,t.LayerGroup=Er,t.LayersControl=wr,t.Map=Br,t.MapComponent=lr,t.MapControl=x,t.MapLayer=ur,t.Marker=Dr,t.Pane=qr,t.Path=sr,t.Polygon=$r,t.Polyline=Gr,t.Popup=Hr,t.Rectangle=Jr,t.ScaleControl=Yr,t.TileLayer=Kr,t.Tooltip=Qr,t.VideoOverlay=Xr,t.WMSTileLayer=ti,t.ZoomControl=ei,Object.defineProperty(t,"__esModule",{value:!0})});
